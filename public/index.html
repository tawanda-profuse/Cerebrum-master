<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Yedu</title>
    <link rel="stylesheet" type="text/css" href="main.css" />

    <!-- Link to the Google Fonts API for Poppins font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"
    />

    <!-- intl-tel-input JS (with utils.js for formatting/validation) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"></script>
  </head>
  <body>
    <div class="header">
      <h1>Yedu</h1>
      <p>
        This autonomous system allows you to effortlessly generate web
        applications based solely on your input.
      </p>
    </div>

    <!-- Subscription Details Section -->
    <div class="top-left-panel">
      <div id="subscriptionDetails" style="margin-top: 10px">
        <p id="remainingTokens">Remaining: $0</p>
      </div>
    </div>

    <!-- New top-right panel for login, pricing, and documentation -->
    <div class="top-right-panel">
      <button id="pricingBtn" class="nav-btn">Pricing</button>
      <button id="documentationLink" class="nav-btn">Create Data Base</button>
      <button id="loginBtn" class="nav-btn">Login</button>
    </div>

    <!-- Right Align Container -->
    <div class="right-align-container">
      <!-- Project Selector Dropdown -->
      <select id="projectSelector" class="nav-btn">
        <option value="">Select a Project</option>
        <!-- Project options will be dynamically populated here -->
      </select>

      <!-- Create Project Button with Icon -->
      <button id="createProjectBtn" class="nav-btn icon-btn">
        <span class="icon"><i class="fas fa-plus"></i></span>
        Create Project
      </button>

      <!-- Delete Project Button with Icon -->
      <button id="promptDeleteProject" class="nav-btn icon-btn">
        <span class="icon"><i class="fas fa-trash"></i></span>
        Delete Project
      </button>
    </div>

    <!-- Delete Project Modal -->
    <div id="deleteProjectModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 style="color: red">
          Are you sure you want to delete this project? This action cannot be
          undone.
        </h2>
        <div class="input-container">
          <button id="deleteProjectBtn" type="button" class="login-btn">
            Confirm
          </button>
        </div>
      </div>
    </div>

    <!-- Create Project Modal -->
    <div id="createProjectModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <div class="input-container">
          <form id="createProjectForm">
            <input
              type="text"
              id="projectNameInput"
              class="project-name-input"
              placeholder="Please enter your project name"
              required
            />
            <button type="submit" class="modal-btn">Create Project</button>
          </form>
        </div>
      </div>
    </div>

    <div id="loginModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Login</h2>
        <div class="input-container">
          <!-- Login Form -->
          <form
            id="loginForm"
            style="display: flex; flex-direction: column; gap: 15px"
          >
            <input
              type="email"
              id="loginUsername"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder="Enter your email"
              required
            />
            <input
              type="password"
              id="loginPassword"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder=" Enter your password"
              required
            />
            <p id="loginError" class="error-class"></p>
            <button type="submit" class="login-btn">Login</button>
          </form>
          <!-- Signup Form (Updated with new fields) -->
          <form
            id="signupForm"
            style="display: none; flex-direction: column; gap: 15px"
          >
            <input
              type="email"
              id="signupEmail"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder="Enter your email"
              required
            />
            <input
              type="password"
              id="signupPassword"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder="Enter your password"
              required
            />
            <div class="phone-input-container">
              <input
                placeholder="Country code"
                id="countryCode"
                required
                style="width: 10%"
              />
              <input
                type="tel"
                id="mobileNumber"
                style="
                  padding: 12px;
                  border: 1px solid #ccc;
                  border-radius: 5px;
                  width: 90%;
                "
                placeholder="Mobile Number"
                required
              />
            </div>
            <p id="signInError" class="error-class"></p>
            <button type="submit" class="login-btn">Signup</button>
            <div class="signup-prompt">
              <p>Hie already signed up? <a href="#" id="loginLink">Login</a></p>
            </div>
          </form>
        </div>
        <div id="login-panel">
          <div class="signup-prompt">
            <p>
              Hie haven't signed up yet? <a href="#" id="signupLink">Sign up</a>
            </p>
            <p>
              Forgotten your password?
              <a href="#" id="forgotPasswordLink">Reset it now.</a>
            </p>
          </div>
          <!-- Social Login Buttons -->
          <div class="social-login"></div>
        </div>
      </div>
    </div>

    <div id="forgotPasswordModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Forgotten Your Password?</h2>
        <div class="input-container">
          <form
            id="forgotPasswordForm"
            style="display: flex; flex-direction: column; gap: 15px"
          >
            <input
              id="forgotEmail"
              type="email"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder="Enter your email"
              required
            />
            <p id="forgotPasswordError" class="error-class"></p>
            <button type="submit" class="login-btn">Submit</button>
          </form>
        </div>
      </div>
    </div>

    <div id="resetPasswordModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Reset Password</h2>
        <div class="input-container">
          <form
            id="resetPasswordForm"
            style="display: flex; flex-direction: column; gap: 15px"
          >
            <input
              id="newPassword"
              type="password"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder="Enter your new password"
              required
            />
            <input
              id="confirmPassword"
              type="password2"
              style="padding: 12px; border: 1px solid #ccc; border-radius: 5px"
              placeholder="Re-enter your password"
              required
            />
            <input type="hidden" name="token" id="hiddenToken" />
            <p id="resetPasswordError" class="error-class"></p>
            <button type="submit" class="login-btn">Confirm</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Pricing Modal -->
    <div id="pricingModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Pricing Plans</h2>
        <div class="pricing-container">
          <div class="pricing-card"></div>
          <div class="pricing-card"></div>
          <div class="pricing-card"></div>
          <div class="pricing-card"></div>
        </div>
      </div>
    </div>

    <!-- Account Dropdown Panel -->
    <div id="accountDropdown" class="account-dropdown" style="display: none">
      <p id="userEmail">Email:</p>
      <p id="userMobile">Mobile:</p>
      <p id="userSubscription">Subscription:</p>
      <button id="logoutBtn" class="nav-btn">Logout</button>
    </div>

    <!-- Existing chat output and form -->
    <div id="chatOutput"></div>
    <form id="chatForm">
      <textarea
        type="text"
        id="messageInput"
        placeholder="Type your prompt..."
      ></textarea>
      <button type="submit" id="sendBtn">Send</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="script.js" type="module"></script>
    <script src="apiServices.js" type="module"></script>
  </body>
</html>
